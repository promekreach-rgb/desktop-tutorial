<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Academic Survey 2026 ‚Äî Eagles</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet"/>
<style>
  :root {
    --ink: #0f0e17;
    --paper: #faf9f6;
    --accent: #e8572a;
    --accent2: #2a7ae8;
    --muted: #7a7870;
    --border: #ddd9d0;
    --card: #ffffff;
    --success: #1a9e5c;
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--paper);
    color: var(--ink);
    min-height: 100vh;
    padding: 0;
    overflow-x: hidden;
  }

  /* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
  header {
    background: var(--ink);
    color: var(--paper);
    padding: 48px 40px 40px;
    position: relative;
    overflow: hidden;
  }
  header::before {
    content: '';
    position: absolute;
    right: -60px; top: -60px;
    width: 320px; height: 320px;
    border-radius: 50%;
    background: var(--accent);
    opacity: 0.12;
  }
  header::after {
    content: '';
    position: absolute;
    right: 40px; bottom: -80px;
    width: 180px; height: 180px;
    border-radius: 50%;
    background: var(--accent2);
    opacity: 0.15;
  }
  .header-inner { max-width: 760px; margin: 0 auto; position: relative; z-index: 1; }
  .header-tag {
    display: inline-block;
    font-size: 0.72rem;
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--accent);
    border: 1px solid var(--accent);
    padding: 4px 12px;
    border-radius: 20px;
    margin-bottom: 16px;
  }
  header h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.8rem, 5vw, 2.8rem);
    line-height: 1.15;
    font-weight: 900;
    margin-bottom: 14px;
  }
  header h1 em { color: var(--accent); font-style: normal; }
  header p {
    font-size: 0.95rem;
    color: #aaa89f;
    font-weight: 300;
    max-width: 560px;
    line-height: 1.7;
  }

  /* ‚îÄ‚îÄ Progress Bar ‚îÄ‚îÄ */
  .progress-wrap {
    background: var(--border);
    height: 4px;
    width: 100%;
  }
  .progress-bar {
    height: 4px;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    width: 0%;
    transition: width 0.5s cubic-bezier(.4,0,.2,1);
  }

  /* ‚îÄ‚îÄ Main content ‚îÄ‚îÄ */
  main {
    max-width: 760px;
    margin: 0 auto;
    padding: 40px 24px 80px;
  }

  /* ‚îÄ‚îÄ Question Cards ‚îÄ‚îÄ */
  .q-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 28px 30px;
    margin-bottom: 20px;
    transition: box-shadow 0.2s, border-color 0.2s;
    animation: slideUp 0.4s ease both;
  }
  .q-card:hover { box-shadow: 0 4px 24px rgba(0,0,0,0.07); }
  .q-card.answered { border-color: #c8e6d4; background: #fafffe; }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .q-card:nth-child(1) { animation-delay: 0.05s; }
  .q-card:nth-child(2) { animation-delay: 0.10s; }
  .q-card:nth-child(3) { animation-delay: 0.15s; }
  .q-card:nth-child(4) { animation-delay: 0.20s; }
  .q-card:nth-child(5) { animation-delay: 0.25s; }
  .q-card:nth-child(6) { animation-delay: 0.30s; }

  .q-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
  }
  .q-num {
    width: 26px; height: 26px;
    background: var(--ink);
    color: var(--paper);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.75rem; font-weight: 700;
  }
  .q-card.answered .q-num { background: var(--success); }
  .q-type-tag {
    font-size: 0.70rem;
    font-weight: 600;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--muted);
  }
  .required-star { display: none; }

  .q-text {
    font-size: 1.02rem;
    font-weight: 600;
    color: var(--ink);
    line-height: 1.55;
    margin-bottom: 18px;
  }

  /* Radio options */
  .options-list { display: flex; flex-direction: column; gap: 8px; }
  .option-label {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 11px 16px;
    border: 1.5px solid var(--border);
    border-radius: 10px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 400;
    transition: all 0.18s;
    user-select: none;
  }
  .option-label:hover { border-color: var(--accent2); background: #f0f5ff; }
  .option-label input { display: none; }
  .option-label.selected {
    border-color: var(--accent2);
    background: #eaf1ff;
    color: var(--accent2);
    font-weight: 500;
  }
  .option-label.selected .radio-dot { border-color: var(--accent2); }
  .option-label.selected .radio-dot::after { opacity: 1; transform: scale(1); }
  .radio-dot {
    width: 18px; height: 18px;
    border-radius: 50%;
    border: 2px solid var(--border);
    flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    transition: border-color 0.18s;
  }
  .radio-dot::after {
    content: '';
    width: 8px; height: 8px;
    border-radius: 50%;
    background: var(--accent2);
    opacity: 0;
    transform: scale(0.5);
    transition: all 0.18s;
  }

  /* Checkbox options */
  .check-label {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 11px 16px;
    border: 1.5px solid var(--border);
    border-radius: 10px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 400;
    transition: all 0.18s;
    user-select: none;
  }
  .check-label:hover { border-color: var(--accent); background: #fff6f3; }
  .check-label input { display: none; }
  .check-label.checked {
    border-color: var(--accent);
    background: #fff1ed;
    color: #c2420e;
    font-weight: 500;
  }
  .check-box {
    width: 18px; height: 18px;
    border-radius: 5px;
    border: 2px solid var(--border);
    flex-shrink: 0;
    margin-top: 1px;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.18s;
    font-size: 11px;
  }
  .check-label.checked .check-box {
    background: var(--accent);
    border-color: var(--accent);
    color: white;
  }

  /* Scale */
  .scale-container { margin-top: 4px; }
  .scale-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.75rem;
    color: var(--muted);
    margin-bottom: 10px;
    font-weight: 500;
  }
  .scale-btns {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  .scale-btn {
    width: 48px; height: 48px;
    border-radius: 10px;
    border: 1.5px solid var(--border);
    background: white;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.18s;
    color: var(--ink);
    font-family: 'DM Sans', sans-serif;
  }
  .scale-btn:hover { border-color: var(--accent2); color: var(--accent2); background: #eaf1ff; }
  .scale-btn.active { background: var(--accent2); border-color: var(--accent2); color: white; }

  /* Textarea */
  textarea {
    width: 100%;
    min-height: 110px;
    border: 1.5px solid var(--border);
    border-radius: 10px;
    padding: 14px 16px;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.92rem;
    color: var(--ink);
    resize: vertical;
    transition: border-color 0.2s;
    background: white;
    line-height: 1.6;
  }
  textarea:focus {
    outline: none;
    border-color: var(--accent2);
    box-shadow: 0 0 0 3px rgba(42,122,232,0.10);
  }
  textarea::placeholder { color: #bbb8b0; }

  /* Submit button */
  .submit-area { text-align: center; margin-top: 32px; }
  .submit-btn {
    background: var(--ink);
    color: var(--paper);
    border: none;
    padding: 16px 48px;
    border-radius: 50px;
    font-family: 'DM Sans', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 0.3px;
    position: relative;
    overflow: hidden;
  }
  .submit-btn:hover { background: var(--accent); transform: translateY(-2px); box-shadow: 0 8px 24px rgba(232,87,42,0.30); }
  .submit-btn:active { transform: translateY(0); }

  /* Toast */
  .toast {
    position: fixed;
    bottom: 30px; right: 30px;
    background: var(--success);
    color: white;
    padding: 14px 22px;
    border-radius: 12px;
    font-size: 0.9rem;
    font-weight: 500;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
    transform: translateY(80px);
    opacity: 0;
    transition: all 0.4s cubic-bezier(.4,0,.2,1);
    z-index: 999;
    max-width: 320px;
  }
  .toast.show { transform: translateY(0); opacity: 1; }
  .toast.error { background: #c0392b; }

  /* ‚îÄ‚îÄ Data Dashboard ‚îÄ‚îÄ */
  #dashboard {
    max-width: 760px;
    margin: 0 auto;
    padding: 0 24px 60px;
    display: none;
  }
  .dash-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    flex-wrap: gap;
  }
  .dash-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    font-weight: 700;
  }
  .dash-count {
    background: var(--ink);
    color: var(--paper);
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 0.82rem;
    font-weight: 600;
  }
  .toggle-dash {
    font-size: 0.82rem;
    color: var(--accent2);
    cursor: pointer;
    text-decoration: underline;
    text-underline-offset: 3px;
    background: none;
    border: none;
    font-family: 'DM Sans', sans-serif;
    font-weight: 500;
  }
  .response-card {
    background: white;
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px 22px;
    margin-bottom: 12px;
  }
  .resp-meta {
    font-size: 0.78rem;
    color: var(--muted);
    margin-bottom: 12px;
    font-weight: 500;
  }
  .resp-row {
    display: grid;
    grid-template-columns: 160px 1fr;
    gap: 6px 14px;
    font-size: 0.86rem;
    line-height: 1.6;
    margin-bottom: 6px;
  }
  .resp-q { font-weight: 600; color: var(--muted); }
  .resp-a { color: var(--ink); }

  .clear-btn {
    background: none;
    border: 1px solid #e0d9d0;
    color: #999;
    padding: 8px 20px;
    border-radius: 20px;
    font-size: 0.8rem;
    cursor: pointer;
    font-family: 'DM Sans', sans-serif;
    transition: all 0.2s;
    margin-top: 16px;
  }
  .clear-btn:hover { border-color: #c0392b; color: #c0392b; }

  .no-data {
    text-align: center;
    color: var(--muted);
    font-size: 0.9rem;
    padding: 40px;
  }

  .view-data-btn-wrap {
    text-align: center;
    padding: 10px 0 30px;
  }

  @media (max-width: 520px) {
    header { padding: 32px 20px 28px; }
    main { padding: 24px 16px 60px; }
    .q-card { padding: 22px 18px; }
    .resp-row { grid-template-columns: 1fr; }
    .resp-q { margin-bottom: -2px; }
  }
</style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="header-tag">Academic Survey ¬∑ Eagles 2026</div>
    <h1>Eagles Academic<br/><em>Survey 2026</em></h1>
    <p>Welcome, Eagles! Help us understand the challenges you face as first-year students and how AI-powered plagiarism protection tools could make a difference. All responses are stored securely and anonymously.</p>
  </div>
</header>

<div class="progress-wrap">
  <div class="progress-bar" id="progressBar"></div>
</div>

<main id="formArea">
  <form id="surveyForm" novalidate>

    <!-- Q1: Multiple Choice -->
    <div class="q-card" id="card-q1">
      <div class="q-meta">
        <div class="q-num">1</div>
        <span class="q-type-tag">Multiple Choice</span>
        <span class="required-star">‚òÖ</span>
      </div>
      <p class="q-text">As a first-year college student, which academic challenge do you find most difficult to manage?</p>
      <div class="options-list" id="q1-options">
        <label class="option-label"><input type="radio" name="q1" value="Properly citing sources and avoiding accidental plagiarism"/><span class="radio-dot"></span>Properly citing sources and avoiding accidental plagiarism</label>
        <label class="option-label"><input type="radio" name="q1" value="Understanding what counts as plagiarism vs. paraphrasing"/><span class="radio-dot"></span>Understanding what counts as plagiarism vs. paraphrasing</label>
        <label class="option-label"><input type="radio" name="q1" value="Managing time and meeting deadlines"/><span class="radio-dot"></span>Managing time and meeting deadlines</label>
        <label class="option-label"><input type="radio" name="q1" value="Writing long academic papers for the first time"/><span class="radio-dot"></span>Writing long academic papers for the first time</label>
        <label class="option-label"><input type="radio" name="q1" value="Other"/><span class="radio-dot"></span>Other</label>
      </div>
    </div>

    <!-- Q2: Multiple Choice -->
    <div class="q-card" id="card-q2">
      <div class="q-meta">
        <div class="q-num">2</div>
        <span class="q-type-tag">Multiple Choice</span>
        <span class="required-star">‚òÖ</span>
      </div>
      <p class="q-text">Have you ever submitted work that was flagged for plagiarism ‚Äî even unintentionally?</p>
      <div class="options-list" id="q2-options">
        <label class="option-label"><input type="radio" name="q2" value="Yes, and I was penalized"/><span class="radio-dot"></span>Yes, and I was penalized</label>
        <label class="option-label"><input type="radio" name="q2" value="Yes, but it was resolved without penalty"/><span class="radio-dot"></span>Yes, but it was resolved without penalty</label>
        <label class="option-label"><input type="radio" name="q2" value="No, but I was worried it might happen"/><span class="radio-dot"></span>No, but I was worried it might happen</label>
        <label class="option-label"><input type="radio" name="q2" value="No, I have never experienced this"/><span class="radio-dot"></span>No, I have never experienced this</label>
      </div>
    </div>

    <!-- Q3: Checkboxes -->
    <div class="q-card" id="card-q3">
      <div class="q-meta">
        <div class="q-num">3</div>
        <span class="q-type-tag">Checkboxes ¬∑ Select all that apply</span>
        <span class="required-star">‚òÖ</span>
      </div>
      <p class="q-text">Which features of an AI plagiarism protection tool would you find most helpful?</p>
      <div class="options-list" id="q3-options">
        <label class="check-label"><input type="checkbox" name="q3" value="Real-time detection of plagiarized or improperly cited content"/><span class="check-box">‚úì</span>Real-time detection of plagiarized or improperly cited content</label>
        <label class="check-label"><input type="checkbox" name="q3" value="Suggestions for how to paraphrase or rephrase copied text"/><span class="check-box">‚úì</span>Suggestions for how to paraphrase or rephrase copied text</label>
        <label class="check-label"><input type="checkbox" name="q3" value="Auto-formatting of citations (APA, MLA, Chicago, etc.)"/><span class="check-box">‚úì</span>Auto-formatting of citations (APA, MLA, Chicago, etc.)</label>
        <label class="check-label"><input type="checkbox" name="q3" value="Educational feedback explaining why a passage is flagged"/><span class="check-box">‚úì</span>Educational feedback explaining why a passage is flagged</label>
        <label class="check-label"><input type="checkbox" name="q3" value="Similarity score before final submission"/><span class="check-box">‚úì</span>Similarity score before final submission</label>
        <label class="check-label"><input type="checkbox" name="q3" value="Integration with Google Docs or Microsoft Word"/><span class="check-box">‚úì</span>Integration with Google Docs or Microsoft Word</label>
      </div>
    </div>

    <!-- Q4: Linear Scale -->
    <div class="q-card" id="card-q4">
      <div class="q-meta">
        <div class="q-num">4</div>
        <span class="q-type-tag">Linear Scale</span>
        <span class="required-star">‚òÖ</span>
      </div>
      <p class="q-text">How confident are you in your ability to correctly cite sources and avoid plagiarism in academic work?</p>
      <div class="scale-container">
        <div class="scale-labels">
          <span>1 ‚Äî Not confident at all</span>
          <span>5 ‚Äî Very confident</span>
        </div>
        <div class="scale-btns" id="q4-scale">
          <button type="button" class="scale-btn" data-val="1">1</button>
          <button type="button" class="scale-btn" data-val="2">2</button>
          <button type="button" class="scale-btn" data-val="3">3</button>
          <button type="button" class="scale-btn" data-val="4">4</button>
          <button type="button" class="scale-btn" data-val="5">5</button>
        </div>
      </div>
    </div>

    <!-- Q5: Multiple Choice -->
    <div class="q-card" id="card-q5">
      <div class="q-meta">
        <div class="q-num">5</div>
        <span class="q-type-tag">Multiple Choice</span>
        <span class="required-star">‚òÖ</span>
      </div>
      <p class="q-text">Do you believe an AI plagiarism protection tool would positively impact your academic integrity and writing quality?</p>
      <div class="options-list" id="q5-options">
        <label class="option-label"><input type="radio" name="q5" value="Definitely yes ‚Äî it would greatly help me improve"/><span class="radio-dot"></span>Definitely yes ‚Äî it would greatly help me improve</label>
        <label class="option-label"><input type="radio" name="q5" value="Probably yes ‚Äî it could be a useful guide"/><span class="radio-dot"></span>Probably yes ‚Äî it could be a useful guide</label>
        <label class="option-label"><input type="radio" name="q5" value="Neutral ‚Äî I'm not sure it would make a difference"/><span class="radio-dot"></span>Neutral ‚Äî I'm not sure it would make a difference</label>
        <label class="option-label"><input type="radio" name="q5" value="Probably not ‚Äî I prefer to learn on my own"/><span class="radio-dot"></span>Probably not ‚Äî I prefer to learn on my own</label>
        <label class="option-label"><input type="radio" name="q5" value="Definitely not ‚Äî it may cause over-reliance on tools"/><span class="radio-dot"></span>Definitely not ‚Äî it may cause over-reliance on tools</label>
      </div>
    </div>

    <!-- Q6: Open-ended -->
    <div class="q-card" id="card-q6">
      <div class="q-meta">
        <div class="q-num">6</div>
        <span class="q-type-tag">Open-Ended</span>
        <span class="required-star">‚òÖ</span>
      </div>
      <p class="q-text">In your own words, describe one specific way an AI plagiarism protection tool could help you with a writing challenge you face as a first-year student.</p>
      <textarea id="q6-text" placeholder="Write your answer here..." rows="5"></textarea>
    </div>

    <div class="submit-area">
      <button type="submit" class="submit-btn">Submit Response ‚Üí</button>
    </div>

  </form>
</main>

<!-- Data Dashboard -->
<div id="dashboard">
  <div class="dash-header">
    <span class="dash-title">Collected Responses</span>
    <span class="dash-count" id="respCount">0 responses</span>
  </div>
  <div id="responsesContainer"><p class="no-data">No responses yet.</p></div>
  <button class="clear-btn" onclick="clearData()">üóë Clear All Data</button>
</div>

<div class="view-data-btn-wrap">
  <button class="toggle-dash" onclick="toggleDashboard()">üìä View Collected Data</button>
</div>

<!-- Password Modal -->
<div id="pwModal" style="display:none; position:fixed; inset:0; background:rgba(15,14,23,0.55); z-index:1000; align-items:center; justify-content:center; backdrop-filter:blur(4px);">
  <div style="background:white; border-radius:20px; padding:36px 32px; max-width:380px; width:90%; box-shadow:0 24px 60px rgba(0,0,0,0.2); position:relative;">
    <button onclick="closeModal()" style="position:absolute; top:16px; right:18px; background:none; border:none; font-size:1.2rem; cursor:pointer; color:#999;">‚úï</button>
    <div style="width:48px;height:48px;background:var(--ink);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.3rem;margin-bottom:18px;">üîí</div>
    <h3 style="font-family:'Playfair Display',serif; font-size:1.25rem; margin-bottom:6px;">Admin Access Only</h3>
    <p style="font-size:0.85rem; color:var(--muted); margin-bottom:20px; line-height:1.6;">Enter your password to view collected student responses.</p>
    <input id="pwInput" type="password" placeholder="Enter password‚Ä¶" style="width:100%;padding:12px 16px;border:1.5px solid var(--border);border-radius:10px;font-family:'DM Sans',sans-serif;font-size:0.95rem;outline:none;margin-bottom:10px;transition:border-color 0.2s;" onfocus="this.style.borderColor='var(--accent2)'" onblur="this.style.borderColor='var(--border)'"/>
    <p id="pwError" style="display:none; color:var(--accent); font-size:0.82rem; margin-bottom:10px;">‚ö† Incorrect password. Please try again.</p>
    <button onclick="submitPassword()" style="width:100%;background:var(--ink);color:white;border:none;padding:13px;border-radius:10px;font-family:'DM Sans',sans-serif;font-size:0.95rem;font-weight:600;cursor:pointer;transition:background 0.2s;" onmouseover="this.style.background='var(--accent)'" onmouseout="this.style.background='var(--ink)'">Unlock Dashboard ‚Üí</button>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
  // ‚îÄ‚îÄ Storage key
  const DB_KEY = 'survey_responses_v1';

  // ‚îÄ‚îÄ Load DB
  function loadDB() {
    try { return JSON.parse(localStorage.getItem(DB_KEY)) || []; }
    catch { return []; }
  }
  function saveDB(data) {
    localStorage.setItem(DB_KEY, JSON.stringify(data));
  }

  // ‚îÄ‚îÄ Radio/Checkbox visual feedback
  document.querySelectorAll('.option-label').forEach(label => {
    label.addEventListener('click', () => {
      const name = label.querySelector('input').getAttribute('name');
      document.querySelectorAll(`.option-label input[name="${name}"]`).forEach(inp => {
        inp.parentElement.classList.remove('selected');
      });
      label.classList.add('selected');
      updateProgress();
      markAnswered(name);
    });
  });

  document.querySelectorAll('.check-label').forEach(label => {
    label.addEventListener('click', () => {
      const cb = label.querySelector('input');
      setTimeout(() => {
        label.classList.toggle('checked', cb.checked);
        updateProgress();
        const anyChecked = document.querySelectorAll('input[name="q3"]:checked').length > 0;
        document.getElementById('card-q3').classList.toggle('answered', anyChecked);
      }, 0);
    });
  });

  // Scale buttons
  document.querySelectorAll('.scale-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.scale-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      updateProgress();
      document.getElementById('card-q4').classList.add('answered');
    });
  });

  // Textarea
  document.getElementById('q6-text').addEventListener('input', function() {
    document.getElementById('card-q6').classList.toggle('answered', this.value.trim().length > 0);
    updateProgress();
  });

  function markAnswered(name) {
    const map = { q1:'card-q1', q2:'card-q2', q5:'card-q5' };
    if (map[name]) document.getElementById(map[name]).classList.add('answered');
  }

  // ‚îÄ‚îÄ Progress
  function updateProgress() {
    let count = 0;
    if (document.querySelector('input[name="q1"]:checked')) count++;
    if (document.querySelector('input[name="q2"]:checked')) count++;
    if (document.querySelector('input[name="q3"]:checked')) count++;
    if (document.querySelector('.scale-btn.active')) count++;
    if (document.querySelector('input[name="q5"]:checked')) count++;
    if (document.getElementById('q6-text').value.trim()) count++;
    document.getElementById('progressBar').style.width = (count / 6 * 100) + '%';
  }

  // ‚îÄ‚îÄ Validation
  function validate() {
    if (!document.querySelector('input[name="q1"]:checked')) return 'Please answer Question 1.';
    if (!document.querySelector('input[name="q2"]:checked')) return 'Please answer Question 2.';
    if (!document.querySelector('input[name="q3"]:checked')) return 'Please select at least one option in Question 3.';
    if (!document.querySelector('.scale-btn.active')) return 'Please select a rating in Question 4.';
    if (!document.querySelector('input[name="q5"]:checked')) return 'Please answer Question 5.';
    if (!document.getElementById('q6-text').value.trim()) return 'Please write your answer for Question 6.';
    return null;
  }

  // ‚îÄ‚îÄ Submit
  document.getElementById('surveyForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const err = validate();
    if (err) { showToast(err, true); return; }

    const q3vals = [...document.querySelectorAll('input[name="q3"]:checked')].map(i => i.value);
    const entry = {
      id: Date.now(),
      timestamp: new Date().toLocaleString(),
      q1: document.querySelector('input[name="q1"]:checked').value,
      q2: document.querySelector('input[name="q2"]:checked').value,
      q3: q3vals.join('; '),
      q4: document.querySelector('.scale-btn.active').dataset.val,
      q5: document.querySelector('input[name="q5"]:checked').value,
      q6: document.getElementById('q6-text').value.trim()
    };

    const db = loadDB();
    db.push(entry);
    saveDB(db);

    showToast('‚úÖ Response submitted! Thank you.');
    this.reset();
    document.querySelectorAll('.option-label').forEach(l => l.classList.remove('selected'));
    document.querySelectorAll('.check-label').forEach(l => l.classList.remove('checked'));
    document.querySelectorAll('.scale-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.q-card').forEach(c => c.classList.remove('answered'));
    document.getElementById('progressBar').style.width = '0%';
    renderDashboard();
  });

  // ‚îÄ‚îÄ Toast
  function showToast(msg, isError = false) {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.className = 'toast show' + (isError ? ' error' : '');
    setTimeout(() => t.className = 'toast', 3200);
  }

  // ‚îÄ‚îÄ Dashboard
  let dashUnlocked = false;

  function toggleDashboard() {
    const dash = document.getElementById('dashboard');
    if (dash.style.display === 'block') {
      dash.style.display = 'none';
      document.querySelector('.toggle-dash').textContent = 'üìä View Collected Data';
      return;
    }
    if (dashUnlocked) {
      dash.style.display = 'block';
      document.querySelector('.toggle-dash').textContent = '‚úñ Hide Data';
      renderDashboard();
      return;
    }
    document.getElementById('pwModal').style.display = 'flex';
    setTimeout(() => document.getElementById('pwInput').focus(), 100);
  }

  function submitPassword() {
    const val = document.getElementById('pwInput').value;
    if (val === 'xxxxxxxxx') {
      dashUnlocked = true;
      closeModal();
      document.getElementById('dashboard').style.display = 'block';
      document.querySelector('.toggle-dash').textContent = '‚úñ Hide Data';
      renderDashboard();
    } else {
      document.getElementById('pwError').style.display = 'block';
      document.getElementById('pwInput').value = '';
      document.getElementById('pwInput').focus();
    }
  }

  function closeModal() {
    document.getElementById('pwModal').style.display = 'none';
    document.getElementById('pwInput').value = '';
    document.getElementById('pwError').style.display = 'none';
  }

  document.getElementById('pwInput').addEventListener('keydown', function(e) {
    if (e.key === 'Enter') submitPassword();
    if (e.key === 'Escape') closeModal();
  });

  function renderDashboard() {
    const db = loadDB();
    const container = document.getElementById('responsesContainer');
    const count = document.getElementById('respCount');
    count.textContent = db.length + ' response' + (db.length !== 1 ? 's' : '');
    if (db.length === 0) {
      container.innerHTML = '<p class="no-data">No responses yet. Be the first to submit!</p>';
      return;
    }
    container.innerHTML = db.slice().reverse().map(r => `
      <div class="response-card">
        <div class="resp-meta">üïê ${r.timestamp} &nbsp;¬∑&nbsp; ID: ${r.id}</div>
        <div class="resp-row"><span class="resp-q">Q1 ‚Äì Challenge</span><span class="resp-a">${r.q1}</span></div>
        <div class="resp-row"><span class="resp-q">Q2 ‚Äì Flagged?</span><span class="resp-a">${r.q2}</span></div>
        <div class="resp-row"><span class="resp-q">Q3 ‚Äì Features</span><span class="resp-a">${r.q3}</span></div>
        <div class="resp-row"><span class="resp-q">Q4 ‚Äì Confidence</span><span class="resp-a">${r.q4} / 5</span></div>
        <div class="resp-row"><span class="resp-q">Q5 ‚Äì Impact?</span><span class="resp-a">${r.q5}</span></div>
        <div class="resp-row"><span class="resp-q">Q6 ‚Äì Open Answer</span><span class="resp-a">${r.q6}</span></div>
      </div>
    `).join('');
  }

  function clearData() {
    if (confirm('Are you sure you want to delete all responses? This cannot be undone.')) {
      localStorage.removeItem(DB_KEY);
      renderDashboard();
      showToast('All data cleared.');
    }
  }

  // Init
  updateProgress();
</script>
</body>
</html>
